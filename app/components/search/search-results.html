<div>
    <div ng-repeat="result in results.docs | filter: { docType: 'DOCUMENT' }">
        <h4 ng-show="$first">
            <span ng-class="{'glyphicon glyphicon-collapse-down': visibleResults.document, 'glyphicon glyphicon-expand': !visibleResults.document}"
                  ng-click="toggleVisibleResults(result.docType)"></span>
            Reports and articles
        </h4>
        <div class="row" ng-show="visibleResults.document">
            <div class="col-sm-9">
                <p>
                    <b ng-show="result.title">{{ result.title }}: </b>
                    {{ result.content }}
                </p>
            </div>
            <div class="col-sm-3 text-right cartBtnStyles">
                <button class="btn btn-primary btn-sm" ng-click="goToDownloadUrl(result.about)">Download</button>
                <button class="btn btn-primary btn-sm"
                        ng-click="addToCart(result)">
                    <div ng-if="!isItemInCart(result.about)">
                        Add to cart
                    </div>
                    <div ng-if="isItemInCart(result.about)">
                        Added <span class="glyphicon glyphicon-ok" ng-show="isItemInCart(result.about)"></span>
                    </div>
                </button>
            </div>
        </div>
        <hr ng-show="visibleResults.document || $last"/>
    </div>
    <div ng-repeat="result in results.docs | filter: { docType: 'DATASET' }">
        <h4 ng-show="$first">
            <span ng-class="{'glyphicon glyphicon-collapse-down': visibleResults.dataset, 'glyphicon glyphicon-expand': !visibleResults.dataset}"
                  ng-click="toggleVisibleResults(result.docType)"></span>
            Data sets
        </h4>
        <div class="row" ng-show="visibleResults.dataset">
            <div class="col-sm-9">
                <p>
                    <b ng-show="result.title">{{ result.title }}: </b>
                    {{ result.content }}
                </p>
            </div>
            <div class="col-sm-3 text-right cartBtnStyles">
                <button class="btn btn-primary btn-sm" ng-click="goToDownloadUrl(result.about)">Download</button>
                <button class="btn btn-primary btn-sm"
                        ng-click="addToCart(result)">
                    <div ng-if="!isItemInCart(result.about)">
                        Add to cart
                    </div>
                    <div ng-if="isItemInCart(result.about)">
                        Added <span class="glyphicon glyphicon-ok" ng-show="isItemInCart(result.about)"></span>
                    </div>
                </button>
            </div>
        </div>
        <hr ng-show="visibleResults.dataset || $last"/>
    </div>
    <div ng-repeat="result in results.docs | filter: { docType: 'MODEL' }">
        <h4 ng-show="$first">
            <span ng-class="{'glyphicon glyphicon-collapse-down': visibleResults.model, 'glyphicon glyphicon-expand': !visibleResults.model}"
                  ng-click="toggleVisibleResults(result.docType)"></span>
            Models
        </h4>
        <div class="row" ng-show="visibleResults.model">
            <div class="col-sm-9">
                <p>
                    <b ng-show="result.title">{{ result.title }}: </b>
                    {{ result.content }}
                </p>
            </div>
            <div class="col-sm-3 text-right cartBtnStyles">
                <button class="btn btn-primary btn-sm" ng-click="goToDownloadUrl(result.about)">Download</button>
                <button class="btn btn-primary btn-sm"
                        ng-click="addToCart(result)">
                    <div ng-if="!isItemInCart(result.about)">
                        Add to cart
                    </div>
                    <div ng-if="isItemInCart(result.about)">
                        Added <span class="glyphicon glyphicon-ok" ng-show="isItemInCart(result.about)"></span>
                    </div>
                </button>
            </div>
        </div>
        <hr ng-show="visibleResults.model || $last"/>
    </div>
    <div ng-show="(results.docs | filter: { docType: 'IMAGE' }).length > 0">
        <h4>
            <span ng-class="{'glyphicon glyphicon-collapse-down': visibleResults.image, 'glyphicon glyphicon-expand': !visibleResults.image}"
                  ng-click="toggleVisibleResults('IMAGE')"></span>
            Images
        </h4>
        <div class="row" ng-show="visibleResults.image">
            <div class="col-xs-6 col-sm-4 col-lg-2 cartBtnStyles" ng-repeat="result in results.docs | filter: { docType: 'IMAGE' }">
                <img ng-src="{{getDownloadImageUrl(result.about)}}" alt="{{ result.title }}" class="img-thumbnail img-responsive">
            </div>
        </div>
    </div>
</div>