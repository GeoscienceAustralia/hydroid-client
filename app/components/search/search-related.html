<div ng-if="hasResults">
    <ul class="noLeftPadding">
        <li ng-repeat="menuItem in menuItems" ng-include="'menuTemplate'" ng-if="!hasResults || menuItem.count > 0"></li>
    </ul>
</div>
<div ng-if="!hasResults">
    <ul class="noLeftPadding">
        <li ng-repeat="menuItem in menuItems" ng-include="'menuTemplateInit'"></li>
    </ul>
</div>
<script type="text/ng-template" id="menuTemplate">
    <div class="row facet" ng-if="!hasResults || menuItem.count > 0" ng-class="{searchRelatedButton: menuItem.nodeType == null}">
        <a href="#/?facet={{menuItem.nodeLabel.split(' ').join('_')}}" class="col-xs-9">
            <h5>{{ menuItem.nodeLabel }}&nbsp;</h5>
        </a>
        <div class="col-xs-3 text-right">
            <span class="badge" ng-if="menuItem.count">{{ menuItem.count }}</span>
        </div>
    </div>
    <ul ng-if="menuItem.children">
        <li ng-repeat="menuItem in menuItem.children" ng-include="'menuTemplate'" ng-if="!hasResults || menuItem.count > 0" style="background-color: white">
        </li>
    </ul>
</script>
<script type="text/ng-template" id="menuTemplateInit">
    <div class="row facet">
        <a href="#/?facet={{menuItem.nodeLabel.split(' ').join('_')}}" class="col-xs-12 searchRelatedButton">
            <h5>{{ menuItem.nodeLabel }}&nbsp; <span class="glyphicon glyphicon-menu-right pull-right"></span></h5>
        </a>
    </div>
</script>