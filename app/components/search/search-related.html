<div ng-if="results.docs.length > 0">
    <ul class="noLeftPadding">
        <li ng-repeat="menuItem in menuItems" ng-include="'menuTemplate'" ng-if="!results.docs || results.docs.length == 0 || menuItem.count > 0"></li>
    </ul>
</div>
<div ng-if="results.docs.length == 0 || !results.docs">
    <ul class="noLeftPadding">
        <li ng-repeat="menuItem in menuItems" ng-include="'menuTemplateInit'"></li>
    </ul>
</div>
<script type="text/ng-template" id="menuTemplate">
    <div class="row facet searchRelatedButton" ng-click="filterByFacet(menuItem.nodeLabel)" ng-if="!results.docs || results.docs.length == 0 || menuItem.count > 0">
        <div class="col-xs-9">
            <h5>
                <a href="">
                    {{ menuItem.nodeLabel }}&nbsp;
                </a>
            </h5>
        </div>
        <div class="col-xs-3 text-right">
            <span class="badge" style="background-color: white; color: #006983;" ng-if="menuItem.count">{{ menuItem.count }}</span>
        </div>
    </div>
    <ul ng-if="menuItem.children" >
        <li ng-repeat="menuItem in menuItem.children" ng-include="'menuTemplate'" ng-if="!results.docs || results.docs.length == 0 || menuItem.count > 0">
        </li>
    </ul>
</script>
<script type="text/ng-template" id="menuTemplateInit">
    <div class="row facet" ng-click="filterByFacet(menuItem.nodeLabel)">
        <div class="col-xs-12 searchRelatedButton" ng-click="filterByFacet(menuItem.nodeLabel)">
            <h5>
                <a href="">{{ menuItem.nodeLabel }}&nbsp; <span class="glyphicon glyphicon-menu-right pull-right"></span></a>
            </h5>
        </div>
    </div>
</script>